(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{776:function(e,t,a){__NEXT_REGISTER_PAGE("/login",function(){return e.exports=a(777),{page:e.exports.default}})},777:function(e,t,a){"use strict";a.r(t),function(e){var r=a(31),n=a.n(r),o=a(0),s=a.n(o),l=a(132),i=a.n(l),c=a(98),u=a(133);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,a,r,n,o,s){try{var l=e[o](s),i=l.value}catch(e){return void a(e)}l.done?t(i):Promise.resolve(i).then(r,n)}function p(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b={hostname:"",username:"",password:"",savePassword:!1},y=function(t){function a(e){var t,r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,(t=!(n=f(a).call(this,e))||"object"!==m(n)&&"function"!=typeof n?v(r):n).state=Object.assign({},b,e.credentials),e.credentials&&e.credentials.password&&(t.state.savePassword=!0),t.handleChange=t.handleChange.bind(v(v(t))),t.toggleSavePassword=t.toggleSavePassword.bind(v(v(t))),t.login=t.login.bind(v(v(t))),t.username=s.a.createRef(),t.password=s.a.createRef(),t}var r,o,l,y,w;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,s.a.Component),r=a,o=[{key:"componentDidMount",value:function(){var t=this;e.nextTick(function(){t.setState({username:t.username.current.value,password:t.password.current.value})})}},{key:"login",value:function(e){e.preventDefault(),Object(c.b)({},this.state),i.a.push("/")}},{key:"handleChange",value:function(e){var t,a,r;this.setState((t={},a=e.target.id,r=e.target.value,a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t))}},{key:"toggleSavePassword",value:function(){this.setState(function(e){return{savePassword:!e.savePassword}})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.hostname,r=e.username,n=e.password,o=e.savePassword;return s.a.createElement(u.a,null,s.a.createElement("h1",null,"Login"),t?s.a.createElement("div",{className:"error"},t):null,s.a.createElement("form",{onSubmit:this.login},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"hostname"},"Plex server"),s.a.createElement("input",{id:"hostname",type:"text",className:"form-control",value:a,onChange:this.handleChange,placeholder:"IP address or hostname of your plex server"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"username"},"Email address"),s.a.createElement("input",{id:"username",type:"text",className:"form-control",value:r,onChange:this.handleChange,ref:this.username,placeholder:"Plex username or email address"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{id:"password",type:"password",className:"form-control",value:n,onChange:this.handleChange,ref:this.password,placeholder:"Password"})),s.a.createElement("div",{className:"form-group form-check"},s.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"savePassword",defaultChecked:o,onChange:this.toggleSavePassword,"aria-describedby":"password-help"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"savePassword"},"Save password"),s.a.createElement("small",{className:"form-text text-muted",id:"password-help"},"Credentials are stored in a base64-encoded cookie (I.e. not very securely)")),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))}}],l=[{key:"getInitialProps",value:(y=n.a.mark(function e(t){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(c.a)(t),e.abrupt("return",{credentials:a});case 2:case"end":return e.stop()}},e,this)}),w=function(){var e=this,t=arguments;return new Promise(function(a,r){var n=y.apply(e,t);function o(e){d(n,a,r,o,s,"next",e)}function s(e){d(n,a,r,o,s,"throw",e)}o(void 0)})},function(e){return w.apply(this,arguments)})}],o&&p(r.prototype,o),l&&p(r,l),a}();t.default=y}.call(this,a(6))}},[[776,1,0]]]);